(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[748],{6050:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/chon-anh",function(){return t(3001)}])},3001:function(e,n,t){"use strict";t.r(n);var r=t(5893),o=t(7845),i=t(1071),a=t(7294),c=t(8467),u=t(3827);function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){s(e,n,t[n])}))}return e}function d(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return l(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.default=function(){var e=(0,a.useRef)(),n=(0,c.T)().apiPost,t=(0,a.useState)([]),l=t[0],s=t[1],m=(0,a.useState)({show:!1,url:""}),h=m[0],p=m[1],g=(0,a.useState)("blackBorder"),v=g[0],y=g[1],b=(0,a.useState)(!1),j=b[0],w=b[1];(0,a.useEffect)((function(){var e=(0,u.v$)(),n=e.frameType,t=e.images;s(t||[]),y(n||"blackBorder")}),[]);var x=function(){return e.current.click()};(0,a.useEffect)((function(){(0,u.T8)({frameType:v,images:l.filter((function(e){return!e.loading}))})}),[l,v]);var k=(0,r.jsx)(o.zx,{className:"btnOrder",variant:"contained",size:"large",fullWidth:!0,onClick:function(){l.length&&(console.log(l),w(!0),n(i.m.orders(),{"files.image":l.map((function(e){return e.croppedUrl||e.url})),data:JSON.stringify({fullname:"Khanh Nguyen Test",email:"hello@pixfr.com",address:"Ha Noi"})},(function(){w(!1)})))},loading:j,children:"\u0110\u1eb7t h\xe0ng"});return(0,r.jsx)(o.Ar,{title:"Ch\u1ecdn \u1ea3nh",grayBackground:!0,pickFrames:{selected:v,setSelected:y},mobileBtnBottom:k,children:(0,r.jsxs)("div",{className:"PickPhotos",children:[(0,r.jsx)(o.Yh,f({},h,{onClose:function(){return p(f({},h,{show:!1}))},onConfirm:function(e,n,t,r){s((function(o){var i=d(o),a=i.find((function(e){return e.id===h.id}));return a&&(a.crop=t,a.zoom=n,a.croppedUrl=e,a.croppedFile=r),i}))}})),(0,r.jsxs)("div",{className:"menu",children:[(0,r.jsx)(o.s9,{selected:v,setSelected:y}),k]}),(0,r.jsx)("div",{className:"main",children:l.length>0?(0,r.jsxs)("div",{className:"PickPhotos-images",children:[l.map((function(e){return(0,r.jsx)(o.zv,f({onClick:x,frameType:v},e,{url:e.croppedUrl||e.url,onCrop:function(){return p(f({show:!0},e))},onRemove:function(){return s((function(n){return n.filter((function(n){return n.id!==e.id}))}))}}),e.id)})),(0,r.jsx)(o.zv,{onClick:x})]}):(0,r.jsxs)("div",{className:"PickPhotos-getStarted",children:[(0,r.jsx)("div",{className:"pick-photos-text",children:"Ch\u1ecdn v\xe0i b\u1ee9c \u1ea3nh \u0111\u1ec3 b\u1eaft \u0111\u1ea7u"}),(0,r.jsx)(o.zv,{first:!0,onClick:x})]})}),(0,r.jsx)("input",{ref:e,type:"file",accept:"image/x-png,image/jpeg",style:{display:"none"},onChange:function(e){var n,t=null===(n=e.target.files)||void 0===n?void 0:n[0];if(t){var r=URL.createObjectURL(t),i=new Image;i.src=r,i.onload=function(){var e=i.width>i.height,n=l.length,a=i.width/i.height;e||(a=1/a);var c=2.4*a;s((function(n){return d(n).concat([{id:(0,u.kb)(),url:r,loading:!0,widthGreater:e,zoom:a,minZoom:a,maxZoom:c,file:t}])})),(0,o.Ix)(t,(function(e){s((function(t){var r=d(t);return r[n].loading=!1,r[n].url=e,r}))}))},e.target.value=null}}})]})})}}},function(e){e.O(0,[662,201,845,774,888,179],(function(){return n=6050,e(e.s=n);var n}));var n=e.O();_N_E=n}]);